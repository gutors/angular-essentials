<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
    <div>
        <label for="first-name">First Name:</label>
        <input type="text" id="first" name="first" required minlength="4"
            formControlName="firstName">
        @if (first?.invalid && (first?.dirty || first?.touched)) {
            @if (first?.hasError('required')) {
                <div>Name is required</div>
            }
            @if (first?.hasError('minlength')) {
                <div>Name must be at least 4 characters long</div>
            }
        }
    </div>
    <div>
        <label for="last-name">Last Name:</label>
        <input type="text" id="last" name="last" required minlength="4"
            formControlName="lastName">
        @if (last?.invalid && (last?.dirty || last?.touched)) {
            @if (last?.hasError('required')) {
                <div>Last Name is required</div>
            }
            @if (last?.hasError('minlength')) {
                <div>Last Name must be at least 4 characters long</div>
            }
        }    
    </div>
    
    <button type="submit" [disabled]="!profileForm.valid">Submit</button>
</form>>

<h2>RxJs Examples</h2>
<div>
    @if (user$ | async; as user) {
        <p>User ID: {{ user.id }}</p>
        <p>User Name: {{ user.name }}</p>
    }
</div>

<div>
    <h2>RxJs Combine Latest Examples</h2>
    @if (data$ | async; as data) {
        @for (course of (data.courses); track course.id) {
            <p>Course ID: {{ course.id }}</p>
            <p>Course Name: {{ course.description }}</p>
        }

        @for (coursename of (data.coursesnames); track coursename) {
            <p>Course Name: {{ coursename }}</p>
        }

        @for (user of (data.user); track user.id) {
            <p>User ID: {{ user.id }}</p>
            <p>User Name: {{ user.name }}</p>
        }

    }
</div>